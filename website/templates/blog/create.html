{% extends "base.html" %}

{% block title %}Neuer Blogbeitrag{% endblock %}

{% block style %}
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
{% endblock %}

{% block content %}
<section class="container py-5" data-aos="fade-up">
  <h2 class="w-100 text-center mb-4">Neuen Blogbeitrag erstellen</h2>
  <form method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="title" class="form-label">Titel</label>
      <input type="text" class="form-control" id="title" name="title" placeholder="Beitragstitel" required>
    </div>

    <div class="row g-3 mb-4 equal-height-row">
      <div class="col-md-3 preview-wrapper">
        <label class="form-label">Vorschaubild</label>
        <div class="image-preview" id="imagePreview">
          <i class="bi bi-image" style="font-size: 2rem;"></i>
        </div>
        <input class="form-control image-upload" type="file" id="image_file" name="image_file" accept="image/*">
      </div>
      <div class="col-md-9 d-flex flex-column">
        <label for="summary" class="form-label">Kurzbeschreibung</label>
        <textarea class="form-control h-100" id="summary" name="summary" placeholder="Worum geht es in diesem Beitrag?" required></textarea>
      </div>
    </div>

    <div class="mb-4">
      <label for="content" class="form-label">Beitrag</label>
      <div id="editor" style="height: 300px;"></div>
      <input type="hidden" name="content" id="content">
    </div>

    <div class="row text-center g-2">
      <div class="col-md-3 col-12">
        <a href="/blog" class="btn btn-secondary w-100"><i class="bi bi-arrow-left"></i> Zurück</a>
      </div>
      <div class="col-md-3 col-12">
        <button type="button" id="reset" class="btn btn-warning w-100"><i class="bi bi-arrow-counterclockwise"></i> Zurücksetzen</button>
      </div>
      <div class="col-md-3 col-12">
        <button type="button" id="save" class="btn btn-info w-100"><i class="bi bi-save"></i> Speichern</button>
      </div>
      <div class="col-md-3 col-12">
        <button type="button" id="submit" class="btn btn-success w-100 d-flex align-items-center justify-content-center gap-2">
          <span id="submitIcon"><i class="bi bi-upload"></i></span>
          <span id="submitText">Veröffentlichen</span>
        </button>
      </div>
    </div>
  </form>
</section>
{% endblock %}

{% block script_afterDOM %}
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="/static/js/blog/editor.js"></script>
    <script src="/static/js/blog/create.js"></script>
{% endblock %}
